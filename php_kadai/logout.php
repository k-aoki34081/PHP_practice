<?php
// ===========================================
// ログアウト処理（logout.php）
// ===========================================
// セッションを破棄してログアウトします。
// ===========================================


// -----------------------------------------
// 1. セッション開始
// -----------------------------------------
session_start();


// -----------------------------------------
// 2. セッション変数を全て削除
// -----------------------------------------
$_SESSION = array();


// -----------------------------------------
// 3. セッションクッキーの削除
// -----------------------------------------
if (isset($_COOKIE[session_name()])) {
    setcookie(session_name(), '', time() - 42000, '/');
}


// -----------------------------------------
// 4. セッションを破棄
// -----------------------------------------
session_destroy();


// -----------------------------------------
// 5. ログイン画面にリダイレクト
// -----------------------------------------
header("Location: login.php");
exit();

